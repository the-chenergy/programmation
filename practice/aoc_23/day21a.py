from ipython_startup.imports import *

inp_o = '''\
...................................................................................................................................
.#.........#....#.....#...............#.................#..#...........#..........................#........#.......#..#.........#..
......##.#.....#......#....##....#......................#.#............#.........#......#.....................#................#...
....##.....##...........#.##......#.#....##.........#...................#......#.#....#...#..........#.........#........#......#...
......#..................##..#..........#..#.......#..#..#......................#.................#......#..#......#........#..#...
....#.........#..#..#.#......#.#.....#.#..#...........#.....................#......#......#........#....##...................#.....
..#......#..#........#.#.#.....#.......#......#...#.............#...............#...................#.........#....#.#...........#.
............#..................#...................#...........#..........................#............#.#.....#................#..
..#......#.....#..........#.........#............#.#.........#.....................#......#.................................##.....
...#.............................#.......#....................#....#.........................##........#...#................#......
.........#.......#...#............#......#............................................#.....#..........#...#......#......#.........
.....#.......#.................................................#..#.................#........#....##...............................
....................#.#........#..............#..............#............................#................#.......#..#.........#..
..........#.....#......#...........................................#...............#..##.....#.....#.#..............#..............
.#..............#...#..........#.............................#..#..#....#............#....................#......................#.
...###..............#.#.........#........................#...#..........................###...#.......#.#....................#.#...
......#...............#.#..#.........................#......................#........#.....#......#.................#......#.......
.............#................#............................#......#......#............#.....#....#....................#......##....
........................##.#...##..........#...........#.#...##........#...#...........#............##...#....................#..#.
.....#........#....#..#.................##................#....#....#.....#.................#.......#.#............................
...........#......................#.................#..#.#.....##...#.#....#..#...............#...#.....#...#..#..##......#.#....#.
...#...................#........................#......#................#..#.........................#..........#..................
........##..#.#................#..#.......................#.....#...........................#........#....#........................
...#............#.....#..........#.............##........#..#...#...........................#........#.##.....#..............#.....
..#.#.........#.......#.....#........#.........#.#...#.....#...........#..........#.............#...............###...#............
.........##........#...#....................#...#..#......#...........................#.............................#......#.......
.........#....#...........##................#...........##...#..#..#.............#................#.........................#....#.
.....#.....#...#.........#.......................#........#...#....#...#.........#.....#...............#...#.............#.........
..#....#..##.......#...#.........#........#......#.................#...#.......................................#......#............
.....................#....#..........................#..#...#......##....#.........#..#..............#..................#..........
.............#...##..##..............................#..#..#......#.........................................#..##...#..............
.......#.....#.........#...........................#........#...........#...........##...........................#.......#.........
..................#.#...................#......#..............#..............#.....#..#.#...................#.#...#..........#.....
.......................#...#.............#....#.##.###....##..........#......#..#.............#.........#......#..........#........
.#............#...........#..........#...#....#....#........................................##.........#..#........#.........#.....
....#...............................#......##............##.......#..............#......#....##...................#...#....#.......
.....#....#...##....#.#.....................#......#............................##.......#......#................#...............#.
..........#.#..#..#...........................#........#......#.................#...........................#..#......#...#........
...#.....#......................#...#...............#.##........#.###..........##..................#.........#.....................
..#..........#.......#.............#.........#....#...............#...#..#....#....#.#................................#.#...#......
.......#.......##....................#.##.......#...#.............#.............#.#...#......#..#...............#....#.............
..........#...................................#.......................##...#..............#.........#.....................#........
............##..#.........................#................................#...#..#...#..........#...#................#..#.........
..#.......##.#........................#..#....#....#..#.#.#........#...#........#................#.....#......................#.#..
..#...#.#....................#.......#.......#.#.##..#.....#..........#..........#.............#......#.#.........#................
....#....#.....#...........#.#.....#......#..................#..........#.......#................#................##...............
.#......#.................#...#..##.......#..#..........#...............#..........#....#.#...#......#.........................#...
..#.#.#...#...........#....#................##.............#..#..............#...#....#...##....#.........................#........
..#.....#...#..............#.......#..#...........................#...........#..........#..........#...#..............#......#.#..
..#...................#.........##............#....#..................#...............#..........#.......#.........................
......................................#........................#...#.......................#.......#........................#......
...#..#..#..........#.....#...........................................#.......#.............#......#.......#....#.........#........
..##.........................#.....#.................#..................##...##.....#.......#.........#...#.....#..............#...
..#.............#...##.#......................#....#.........##......#...........#..............#..#........#.....#.............##.
.....................#.#......................#..........#...##...........#............#.....#....................#..............#.
................#...#.......#............#.....#..#...##.#...#....#...#......#.#........#..........##........#.#....#..............
.............#...........#..............#..#.....#.........#...................................#.#.................................
.#..................#....#..........#.#..#........#.......................#..#.......#..................#.#.....................#..
................#.......#............................#............#..#.................#.#...#.....................................
............#.#............#........#.##........###..#........###......#.........................##.#.......#.......##.............
............#.#.......#.......#..##....#....................#.......................................#.....#.........#...#..........
...........##.....#..#...................#......................#.................#......#..#.......#...#...##.....................
......................................#...#....................#...#.................#........#......#.....#...#....##.............
.......................................#......................................#..............#......#........#.......#.............
.............###.............##......#........#..#.#....#...###.#..............#..........#.........#...........#..#......#........
.................................................................S.................................................................
......##...#.....#........#.......#.#....#....#....#................#..#..#...................#.....#................#.#...#.......
...............................#.....................#...##.......#........#.#.........#......................#....#...............
........................#.......#.........#..........#............#....#...##.........#...#.#............................#.........
........#..#..............##...........#....#.##..###.....................................#.##.....#................#..#...........
............#...#.............##..............................#.#........#...#...............#............#.##.....##...#..........
.................#......................................#..#..................#.....#............#.......#.......................#.
..#...................#.................#.................#..#....#...#..#...........#.#.#...#..#.........#........#...............
....#.........#....#...............##...............#.........#......................#...........#.............#...................
..............##.............#.....#..................#.....#.#.....#................#...#..........#.........#......#.............
..................#...#...###.........###..............#.............#................#...........#...#..#..#.....#................
.#..#...............#..#...........................##...#...#...#........#..........##...#....#........#...........................
...............................#............#....#..............#..#.....#............#.......#..#........................#........
.....##............#.............##...#..#....#.......#............#..........#.................#...........#.................#....
.....#............................#.....#...##.............#......#.....#..#.....##.......................#........................
..#.....#..........................#.#............#........#.#.......#...#...#.....#......................##................#...#..
.......#..............................#..................#.........................................#...#..................#.#..#...
......#....#.............................#...#.......#.....#......................#.#..........#..............................#....
.#..........................#........................#......#.........#......................#...#........#...........#...#........
.............#............#................#.......................................#..###..#.....#.....#.#...............#.......#.
.#........#..............................#........#...........#...........................#...........#...................#........
.......##.#...##...............#.#...........##.......#.#..............................#.....#.......#...........#.................
....#...###.#...............................#...........................#..................#..#.#...#............##.#..#....#......
....##....##...#..#...................##..#...#.#.......#...#.......................#......##....................#....#........#...
..............................#....#...#...#..................#.....#...................#....#.........................##...#......
...........#.#....#................................#.....#..#.................#..##......#..#......#.........#........#...#......#.
............................................#.#..........#...#.#....#.................#......#.#.#.#.........#........#......#.....
....#..............................##........#............#......................#.#..........#..........................#.....#...
.............#...##..#.............#........#.....#...#...............#..............#...........##..............................#.
................#...............................#.#..................#...........#.............##........#.......#....#..###.......
.#..........##.........................................#......#.#..#............................#...............##.#...#...........
.##.................##...................#.....................#..............#.........#........................#.....#...#...#...
.....................................................#..........#.#...........#.#..........#...............#.....#.......#...#.....
.#.............#.....##......#........#....#......................#.#.....#......#.......#......................#.....#...#......#.
........#...##.....#........#.........#.#..#............#...#.......................................#............#.................
......##..............#...###...........#............#.....................#............#.#...........................#............
..##.#......#......#....#......#.................#................#....................##..............#.......#.#.#....#..........
..#.......#.#.....#.##.....#................#.#.........#.....#.......#............................#..............#................
...#.#....#..#...........#......................................#.....#..................................#.......#...#..#..#.......
...#....#..#........#.......#...............#.........#..#..#.##.....#................#............................................
...........#...#.#.............##..............#.#.......#......#.........#.#......#..............#...................#............
...#.....#..##.....#..#.........#................#...#..#............#..##.#....#..............#..#...............#................
...#.#........##.........#..........#...........................#......#...#.......##...................#........#.#..##.........#.
.#.....#....................##.#................#..#.##................#........#..................................#..#.#...#......
.#..........#.....#....#..........#...................#........##............#.................#............#.....##...........#...
...........#...#.........#.#.......##..............#.........#..........##......#................#............##..##...............
.......#...#...#.....#....#.............##..............................................##...#................................#....
.#....##.....#...........#..........#..#............#.....##.......##...............................#.#...........#....#.........#.
.......#...#...............#........###....#..............................#............#..#...................#...#.........#......
......#...#.....#..........#....####.......#.#..................................................###.......#......#..#............#.
.#..#.......#..#.#....#....##......#........#.........##....................#......................................................
...........#.#.................................................#..........#............##..#..............#......#...##....#...#...
.#....................#......#.................................#.......................................#...#.......................
...................#.....................#...............#.....#.......................#...........#..#............#...............
...............#..#..#....#......#......#.........#............##..................................#.#..........##............#....
......#.......#.......#...#.............#.......#..#........#......#...#...........#.......#....#..............#..#..#.............
.....#......#.......##.#......................................#......##........#...#.............#...#..#......#............#......
.#........#..#.............#..#....###.............#...............#..........#...#......#......#...#....#.#.........#..........#..
........#....#....#.....#....#..#.................#.............................#............................#............#........
.....#...............#...........#.##...........................................#.#......#.....#.#..#....#..............##...#.....
..#..#....#..................................#.......#.#..........#........................#.........#.....................#.##....
...#....#.............#...#............#..........#.#..#...........................#.............#...#.......#................#.#..
..............#.....#......#.......#..........#....##..#................#.....#.....##.....#....#...........#......#...............
......#..#........................#.........#.......##....#.............................................##.....##.......#......#...
.....#..#.....#........................................#..............#............#...#...........................#........#......
...................................................................................................................................'''

inp_s = '''\
...........
.....###.#.
.###.##..#.
..#.#...#..
....#.#....
.##..S####.
.##..#...#.
.......##..
.##.#.####.
.##..##.##.
...........'''

sam = 0
# sam = 0x0000000000000001
inp = inp_s if sam else inp_o

g = inp.split('\n')
h = len(g)
w = len(g[0])

sy = sx = -1
for y in range(h):
    for x in range(w):
        if g[y][x] == 'S':
            sy = y
            sx = x

L = 6 if sam else 64

q = deque([(sy, sx, int(0))])
reach = defaultdict(set)
reach[(sy, sx)].add(0)
while q:
    y, x, d = q.popleft()
    if d == L:
        break
    for dy, dx in ((0, 1), (1, 0), (0, -1), (-1, 0)):
        ny = y + dy
        nx = x + dx
        if ny < 0 or ny >= h or nx < 0 or nx >= w or g[ny][nx] == '#':
            continue
        if d + 1 not in reach[(ny, nx)]:
            q.append((ny, nx, d + 1))
            reach[(ny, nx)].add(d + 1)

ans = 0
for y in range(h):
    for x in range(w):
        ans += L in reach[(y, x)]

print(ans)
